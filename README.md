# nassi-shneiderman-diagram-builder-online

This project is a successor to my [Nassi-Shneiderman Diagram Builder](https://github.com/Eurydia/nassi-shneiderman-diagram-builder).

It is a web application that allows you to create Nassi-Shneiderman diagrams using C-style code.

It features two main components; the editor and the preview.
Unfortunately, there is no native ways to capture and download HTML nodes as images so users are advised to use a screenshot tool to capture the preview.

The current method uses `html2image` and `file-saver` to capture and download the preview as a PNG image.
One issue with `html2image` is that it does not campture font families correctly.
So the captured image has a different font family (serif) than the preview (monospace).

## Syntax

There are very few syntax rules that you need to follow in order to generate a valid diagram.

### BNF

```text

<program> ::= <statement>

<statement> ::=   <tokens>* ';' |
                  <for-statement> |
                  <while-statement> |
                  <do-while-statement> |
                  <if-statement>

<for-statement> ::= 'for' '(' <token>* ')' '{' <statement>* '}'
<while-statement> ::= 'while' '(' <token>* ')' '{' <statement>* '}'
<do-while-statement> ::= 'do' '{' <statement>* '}' 'while' '(' <token>* ')' ';'
<if-statement> ::= 'if' '(' <token>* ')' '{' <statement>* '}' ['else' '{'[<statement>* '}']

<token> ::= <any-character>+
<any-character> ::= <letter> | <digits> | <symbols>
```

## Implementation

The project is written in TypeScript and uses React with UI components from Material-UI.

The editor is implemented using [CodeMirror](https://codemirror.net/) to provide better syntax highlighting and code editing experience than Mui's TextField with multiline enabled.

The lexer and parser can be found in `src/ast/lexer.ts` and `src/ast/parser.ts` respectively.

### Lexer

The lexer is a very simple one that only supports a subset of C-style syntax.
It can detect the following tokens:

- Keywords: `if`, `else`, `while`, `for`, `do`
- Literal tokens: `(`, `)`, `{`, `}`, `;`
- Symbols: everything else

### Parser

The parser is a recursive descent parser that parses the tokens generated by the lexer.

It can geenrate the following AST nodes:

- `for` loops,
- `while` loops,
- `do-while` loops,
- `if` statements,
- `if-else` statements,

## Devleopment notes

## Resources

- Nassiâ€“Shneiderman diagram (Wikipedia): https://en.wikipedia.org/wiki/Nassi%E2%80%93Shneiderman_diagram

## Credits

- Site favicon
  - Graphics Title: 1f419.svg
  - Graphics Author: Copyright 2020 Twitter, Inc and other contributors (https://github.com/twitter/twemoji)
  - Graphics Source: https://github.com/twitter/twemoji/blob/master/assets/svg/1f419.svg
  - Graphics License: CC-BY 4.0 (https://creativecommons.org/licenses/by/4.0/)
